@Preview
@Component
export struct HomeFragment {
  build() {
    Scroll() {
      Column({ space: 12 }) {
        Text('ðŸ“æ­¦å¾·è·¯')
        AdComponent()
        FuncComponent()
        Text('çƒ­é—¨ç”µå½±')
        HotMovieComponent()
      }.width("100%").alignItems(HorizontalAlign.Start).padding(12)
    }.width("100%").height("100%").align(Alignment.TopStart).backgroundColor("#f8f8f8")

  }
}

@Component
struct AdComponent {
  @State
  dataList: ResourceStr[] = [
    $r('app.media.ey'),
    $r('app.media.kenan'),
    $r('app.media.wuming')
  ]

  build() {
    Column() {
      Swiper() {
        ForEach(this.dataList, (item: ResourceStr) => {
          Image(item)
        })
      }.autoPlay(true)
    }.width("100%").height(200).borderRadius(10).clip(true)
  }
}

interface FuncBean {
  icon: ResourceStr
  text: ResourceStr
  url: string
}

@Component
struct FuncComponent {
  @State
  dataList: FuncBean[] = [
    {
      icon: $r('app.media.x6'),
      text: "ç”µå½±é™¢",
      url: ""
    },
    {
      icon: $r('app.media.x5'),
      text: "æ¼”å‡ºï½œçŽ©ä¹",
      url: ""
    },
    {
      icon: $r('app.media.x2'),
      text: "æ¼”å”±ä¼š",
      url: ""
    },
    {
      icon: $r('app.media.x1'),
      text: "è„±å£ç§€",
      url: ""
    },
    {
      icon: $r('app.media.x7'),
      text: "æŽ’è¡Œæ¦œ",
      url: "pages/RankPage"
    },
    {
      icon: $r('app.media.x4'),
      text: "æ™¯ç‚¹é—¨ç¥¨",
      url: ""
    },
    {
      icon: $r('app.media.x8'),
      text: "æ”¾æ˜ åŽ…",
      url: ""
    },
    {
      icon: $r('app.media.x3'),
      text: "å”±è·³RAP",
      url: ""
    },
  ]

  build() {
    Column() {
      Grid() {
        ForEach(this.dataList, (item: FuncBean) => {
          GridItem() {
            Column({ space: 5 }) {
              Image(item.icon).width(48).aspectRatio(1)
              Text(item.text).fontSize(14)
            }.width("100%")
          }.onClick(() => {
            if (item.url.length > 0) {
              this.getUIContext().getRouter().pushUrl({ url: item.url })
            }

          })
        })
      }.columnsTemplate("1fr 1fr 1fr 1fr").rowsGap(12)
    }
    .width("100%")
    .backgroundColor(Color.White)
    .borderRadius(10)
    .alignItems(HorizontalAlign.Start)
    .padding(12)
  }
}

interface MovieBean {
  icon: ResourceStr
  title: ResourceStr
  status: number
}

@Component
struct HotMovieComponent {
  @State
  dataList: MovieBean[] = [
    {
      icon: $r('app.media.weihefangbaodui'),
      title: "ç»´å’Œé˜²çˆ†é˜Ÿ",
      status: 1
    },
    {
      icon: $r('app.media.guzhuyizhi'),
      title: "å­¤æ³¨ä¸€æŽ·",
      status: 0
    },
    {
      icon: $r('app.media.gouzhen'),
      title: "ç‹—é˜µ",
      status: 0
    },
    {
      icon: $r('app.media.eyi'),
      title: "æ¶æ„",
      status: 1
    },
    {
      icon: $r('app.media.mingzhentankenan'),
      title: "åä¾¦æŽ¢æŸ¯å—ï¼šç‹¬çœ¼çš„æ®‹åƒ",
      status: 0
    },
    {
      icon: $r('app.media.wumingzhibei'),
      title: "æ— åä¹‹è¾ˆ",
      status: 0
    },
  ]

  build() {
    Column() {
      Grid() {
        ForEach(this.dataList, (item: MovieBean) => {
          GridItem() {
            Column({ space: 5 }) {
              Image(item.icon).width('100%').aspectRatio(1 / 1.5).borderRadius(10)
              Text(item.title).fontSize(14)
              Stack() {
                Text(item.status === 1 ? 'å·²é¢„çº¦' : 'é¢„çº¦').fontColor(Color.White)
              }
              .height(24)
              .borderRadius(12).padding({ left: 6, right: 6 })
              .backgroundColor(item.status === 1 ? "#808080" : "#F3BA43")
            }.width("100%")
          }
        })
      }.columnsTemplate("1fr 1fr 1fr").rowsGap(12).columnsGap(12)
    }
    .width("100%")
    .backgroundColor(Color.White)
    .borderRadius(10)
    .alignItems(HorizontalAlign.Start)
    .padding(12)
  }
}